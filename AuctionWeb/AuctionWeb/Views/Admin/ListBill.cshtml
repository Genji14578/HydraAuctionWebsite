@using PagedList.Mvc;
@using PagedList;
@using System.Diagnostics
@model IPagedList<AuctionWeb.Models.Bill>
@{
    ViewBag.Title = "ListBill";
    Layout = "~/Views/Shared/_Admin_Layout.cshtml";
    string temp = " ";
    if (Session["msg"] != null)
    {
        temp = Session["msg"].ToString();
        Session["msg"] = null;
    }
}

<h1 class="m-0 text-dark">List Bill</h1>

<head>
    <link rel="stylesheet" href="~/Content/PagedList.css" />
    <link href="@Url.Content("~/Content/themes/base/jquery-ui.min.css")" rel="stylesheet" type="text/css" />

    <script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>

    <script src="@Url.Content("~/Scripts/jquery-ui-1.8.20.min.js")" type="text/javascript"></script>

    <script src="@Url.Content("~/Scripts/form_ajax.js")" type="text/javascript"></script>

</head>

<body onload="@(temp + "()")">
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Account</th>
                <th scope="col">Product Name</th>
                <th scope="col">Final Bid</th>
                <th scope="col">Payment method</th>
                <th scope="col">Is Active</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <th scope="row">@item.id</th>
                    <td>
                        @item.Account.username
                    </td>
                    <td>
                        @item.Auction.auction_name
                    </td>
                    <td>
                        @item.final_bid
                    </td>
                    <td>
                        @item.payment_method
                    </td>
                    <td>
                        @item.isActive
                    </td>
                    <td>
                        <a href="~/Admin/EditBill/@item.id">Edit</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
    @Html.PagedListPager(Model, page => Url.Action("ListBill", new { page }))
    <br />
    <script src="~/Scripts/jquery-3.3.1.js"></script>
    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script type="text/javascript">
        function Success() {
            swal({
                title: "Operation Successful",
                text: "Successful!!!!",
                icon: "success",
                button: "Got it!"
            });
        }
        function Failed() {
            swal({
                title: "Operation Failed",
                text: "Failed :(",
                icon: "error",
                button: "Got it!"
            });
        }

    </script>
</body>

